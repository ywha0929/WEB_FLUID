{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactNativeTcpSocket = _interopRequireDefault(require(\"react-native-tcp-socket\"));\n\nvar _utf = _interopRequireDefault(require(\"utf8\"));\n\nvar _buffer2 = require(\"buffer\");\n\nvar _LinearLayout = _interopRequireDefault(require(\"./components/LinearLayout\"));\n\nvar _OtherLayout = _interopRequireDefault(require(\"./components/OtherLayout\"));\n\nvar _jsxFileName = \"/home/ywha/WEB_FLUID/react_proxy/App.js\";\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar client;\nvar length_bitmap;\nvar buffer_cur;\nvar Acc_or_Han;\nvar cur_id;\nvar buffer;\nvar socket_buffer;\nvar UI_List_Buffer = new Array();\n\nvar App = function (_Component) {\n  (0, _inherits2.default)(App, _Component);\n\n  var _super = _createSuper(App);\n\n  function App(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, App);\n    _this = _super.call(this, props);\n    _this.state = {\n      UIList: new Array(),\n      LayoutList: new Array()\n    };\n\n    _this._Connect_to_Server = function (bufer) {\n      client = _reactNativeTcpSocket.default.createConnection({\n        host: \"192.168.0.2\",\n        port: 5673\n      }, function () {\n        console.log(\"connection established\");\n      });\n      client.on('data', function (data) {\n        return _this.checkData(data);\n      });\n    };\n\n    _this.onPressInListener = function (e) {\n      var target_id = e.target._internalFiberInstanceHandleDEV.memoizedProps.id;\n      var tempArr = _this.state.UIList;\n\n      var buffer = _buffer2.Buffer.alloc(1000);\n\n      var offset = 0;\n      buffer.writeUInt32BE(target_id, offset);\n      console.log(\"send target id : \", target_id);\n      offset += 4;\n      buffer.writeUInt32BE(1, offset);\n      offset += 4;\n      buffer.writeUInt32BE(0, offset);\n      offset += 4;\n      client.write(buffer);\n    };\n\n    _this.onPressOutListener = function (e) {\n      var target_id = e.target._internalFiberInstanceHandleDEV.memoizedProps.id;\n      var tempArr = _this.state.UIList;\n\n      var buffer = _buffer2.Buffer.alloc(1000);\n\n      var offset = 0;\n      buffer.writeUInt32BE(target_id, offset);\n      console.log(\"send target id : \", target_id);\n      offset += 4;\n      buffer.writeUInt32BE(1, offset);\n      offset += 4;\n      buffer.writeUInt32BE(1, offset);\n      offset += 4;\n      client.write(buffer);\n    };\n\n    _this.TextChangeListener = function (e) {\n      console.log(e.target.id);\n      var _e$nativeEvent = e.nativeEvent,\n          name = _e$nativeEvent.name,\n          type = _e$nativeEvent.type,\n          text = _e$nativeEvent.text;\n      var target_id = e.target._internalFiberInstanceHandleDEV.memoizedProps.id;\n      var tempArr = _this.state.UIList;\n      tempArr.forEach(function (targetUI) {\n        if (targetUI.ID == target_id) {\n          console.log(target_id, text);\n          targetUI.Text = text;\n\n          var _buffer = _buffer2.Buffer.alloc(1000);\n\n          var offset = 0;\n\n          _buffer.writeUInt32BE(target_id, offset);\n\n          offset += 4;\n\n          _buffer.writeUInt32BE(2, offset);\n\n          offset += 4;\n\n          var buffer2 = _buffer2.Buffer.alloc(100);\n\n          var length = buffer2.write(text);\n\n          _buffer.writeUInt32BE(length, offset);\n\n          offset += 4;\n          client.write(_buffer);\n          client.write(buffer2);\n        }\n      });\n\n      _this.setState({\n        UIList: tempArr\n      });\n    };\n\n    _this._Connect_to_Server();\n\n    Acc_or_Han = 0;\n    buffer = null;\n    socket_buffer = null;\n    return _this;\n  }\n\n  (0, _createClass2.default)(App, [{\n    key: \"checkData\",\n    value: function checkData(data) {\n      console.log(Date.now(), \" : \", \"this is checkData\", data.length);\n\n      if (socket_buffer == null) {\n        socket_buffer = _buffer2.Buffer.from(data);\n      } else {\n        var temp_buffer = _buffer2.Buffer.concat([socket_buffer, data]);\n\n        socket_buffer = _buffer2.Buffer.from(temp_buffer);\n      }\n\n      if (socket_buffer.length < 4) {\n        return;\n      } else {\n        var target_length = socket_buffer.readUInt32BE(0);\n        var rest_length = socket_buffer.length - 4;\n        console.log(Date.now(), \" : \", \"checkData : target_length : \", target_length);\n\n        if (target_length == rest_length) {\n          target_Data = socket_buffer.subarray(4, 4 + target_length);\n          this.handleData(target_Data);\n          socket_buffer = null;\n          return;\n        } else if (target_length > rest_length) {\n          return;\n        } else {\n            var target_Data = socket_buffer.subarray(4, 4 + target_length);\n            var rest_Data = socket_buffer.subarray(4 + target_length, socket_buffer.length);\n            this.handleData(target_Data);\n            socket_buffer = _buffer2.Buffer.from(rest_Data);\n            this.checkData(_buffer2.Buffer.alloc(0));\n            return;\n          }\n      }\n    }\n  }, {\n    key: \"handleData\",\n    value: function handleData(data) {\n      console.log(Date.now(), \" : \", \"handle data invocated\");\n      var offset = 0;\n      console.log(Date.now(), \" : \", 'id : ', offset, data.readUInt32BE(offset));\n      var id = data.readUInt32BE(offset);\n      offset += 4;\n      var isUpdate = data.readUInt32BE(offset);\n      offset += 4;\n\n      if (isUpdate == 0) {\n          var layoutId = data.readUInt32BE(offset);\n          offset += 4;\n          var X = data.readFloatBE(offset);\n          offset += 4;\n          var Y = data.readFloatBE(offset);\n          offset += 4;\n          var stringSize = data.readUInt32BE(offset) + 2;\n          offset += 4;\n          var widgetType = data.toString('utf8', offset, offset + stringSize);\n          offset += stringSize;\n\n          if (widgetType.includes(\"EditText\") == 1) {\n            console.log(\"handleData : creating EditText data\");\n            stringSize = data.readUInt32BE(offset) + 2;\n            offset += 4;\n            var temp_text = data.toString('utf8', offset, offset + stringSize);\n            var text = ('' + temp_text).slice(1);\n            offset += stringSize;\n            var TextSize = data.readFloatBE(offset);\n            offset += 4;\n            var height = data.readUInt32BE(offset) * 0.728;\n            offset += 4;\n            var width = data.readUInt32BE(offset) * 0.728;\n            offset += 4;\n            var UIdata = {\n              \"WidgetType\": widgetType,\n              \"ID\": id,\n              \"Text\": text,\n              \"TextSize\": TextSize,\n              \"Color\": 'black',\n              \"Parent_ID\": layoutId,\n              \"X\": X,\n              \"Y\": Y,\n              \"Height\": height,\n              \"Width\": width\n            };\n            UI_List_Buffer.push(UIdata);\n          } else if (widgetType.includes(\"TextView\")) {\n            console.log(Date.now(), \" : \", \"handleData : creating TextView data\");\n            stringSize = data.readUInt32BE(offset) + 2;\n            offset += 4;\n            var temp_text = data.toString('utf8', offset, offset + stringSize);\n            var text = ('' + temp_text).slice(1);\n            offset += stringSize;\n            var TextSize = data.readFloatBE(offset);\n            offset += 4;\n            var height = data.readUInt32BE(offset) * 0.728;\n            offset += 4;\n            var width = data.readUInt32BE(offset) * 0.728;\n            offset += 4;\n            var hasImage = data.readUInt32BE(offset);\n            offset += 4;\n\n            if (hasImage == 1) {\n              var length = data.readUInt32BE(offset) + 2;\n              length_bitmap = length;\n              offset += 4;\n              var temp = data.toString('utf8', offset, data.length);\n              var image = ('' + temp).slice(1);\n            } else {\n              var image = null;\n            }\n\n            var _UIdata = {\n              \"WidgetType\": widgetType,\n              \"ID\": id,\n              \"Text\": text,\n              \"TextSize\": TextSize,\n              \"Parent_ID\": layoutId,\n              \"X\": X,\n              \"Y\": Y,\n              \"Height\": height,\n              \"Width\": width,\n              \"Image\": image\n            };\n            UI_List_Buffer.push(_UIdata);\n          } else if (widgetType.includes(\"ImageView\")) {\n            console.log(Date.now(), \" : \", \"handleData : creating ImageView data\");\n            var height = data.readUInt32BE(offset) * 0.75;\n            offset += 4;\n            var width = data.readUInt32BE(offset) * 0.75;\n            offset += 4;\n            var length = data.readUInt32BE(offset) + 2;\n            length_bitmap = length;\n            offset += 4;\n            var rest = data.length - offset;\n            buffer_cur = 0;\n\n            var _temp = data.toString('utf8', offset, data.length);\n\n            var current_bitmap = ('' + _temp).slice(1);\n\n            var _UIdata2 = {\n              \"WidgetType\": widgetType,\n              \"ID\": id,\n              \"Length\": length,\n              \"Image\": current_bitmap,\n              \"Height\": height,\n              \"Width\": width,\n              \"Parent_ID\": layoutId,\n              \"X\": X,\n              \"Y\": Y\n            };\n            buffer_cur += rest;\n            cur_id = id;\n            UI_List_Buffer.push(_UIdata2);\n          } else if (widgetType.includes(\"Button\")) {\n            console.log(Date.now(), \" : \", \"handleData : creating Button data\");\n            stringSize = data.readUInt32BE(offset) + 2;\n            offset += 4;\n            var temp_text = data.toString('utf8', offset, offset + stringSize);\n            var text = ('' + temp_text).slice(1);\n            offset += stringSize;\n            var height = data.readUInt32BE(offset) * 0.728;\n            offset += 4;\n            var width = data.readUInt32BE(offset) * 0.728;\n            offset += 4;\n            var _UIdata3 = {\n              \"WidgetType\": widgetType,\n              \"ID\": id,\n              \"Text\": text,\n              \"Height\": height,\n              \"Parent_ID\": layoutId,\n              \"Width\": width,\n              \"X\": X,\n              \"Y\": Y\n            };\n            UI_List_Buffer.push(_UIdata3);\n          } else if (widgetType.includes(\"OtherView\")) {\n            console.log(Date.now(), \" : \", \"handleData : creating OtherView data\");\n            var height = data.readUInt32BE(offset) * 0.728;\n            offset += 4;\n            var width = data.readUInt32BE(offset) * 0.728;\n            offset += 4;\n            var _UIdata4 = {\n              \"WidgetType\": widgetType,\n              \"ID\": id,\n              \"Text\": 'others',\n              \"Height\": height,\n              \"Width\": width,\n              \"Parent_ID\": layoutId,\n              \"X\": X,\n              \"Y\": Y\n            };\n            UI_List_Buffer.push(_UIdata4);\n          }\n        } else if (isUpdate == 1) {\n        var _tempArr = this.state.UIList;\n\n        _tempArr.forEach(function (targetUI) {\n          if (id == targetUI.ID) {\n            var _stringSize = data.readUInt32BE(offset) + 2;\n\n            offset += 4;\n            var method = data.toString('utf8', offset, offset + _stringSize);\n            offset += _stringSize;\n            var typeFlag = data.readUInt32BE(offset);\n            offset += 4;\n            console.log(\"typeFlag : \" + typeFlag);\n\n            if (typeFlag == 1) {\n              var param = data.readFloatBE(offset);\n              offset += 4;\n            }\n\n            if (typeFlag == 2) {\n              var param = data.readUInt32BE(offset);\n              offset += 4;\n            }\n\n            if (typeFlag == 3) {\n              _stringSize = data.readUInt32BE(offset) + 2;\n              offset += 4;\n              var param_temp = data.toString('utf8', offset, offset + _stringSize);\n              var param = ('' + param_temp).slice(1);\n              offset += _stringSize;\n              console.log(\"string : \", param);\n            }\n\n            if (method.includes(\"setTextColor\")) {\n              var bb = param & 0x000000FF;\n              var gg = param & 0x0000FF00;\n              var rr = param & 0x00FF0000;\n              var aa = param & 0xFF000000;\n              rr = rr << 8;\n              bb = bb << 8;\n              gg = gg << 8;\n              aa = aa >>> 24;\n              var newColor = rr | bb | gg | aa;\n              targetUI.Color = newColor >>> 0;\n            } else if (method.includes(\"setImage\")) {\n              targetUI.Image = param;\n            } else if (method.includes(\"setText\")) {\n              targetUI.Text = param;\n            }\n          }\n\n          console.log(targetUI);\n        });\n\n        this.setState({\n          UIList: _tempArr\n        });\n      } else if (isUpdate == 2) {\n        var layout_type = data.readUInt32BE(offset);\n        offset += 4;\n\n        if (layout_type == 0) {\n          console.log(Date.now(), \" : \", \"handleData : creating LinearLayout data\");\n          var orientation = data.readUInt32BE(offset);\n          offset += 4;\n          var width = data.readUInt32BE(offset) * 0.728;\n          offset += 4;\n          var height = data.readUInt32BE(offset) * 0.728;\n          var layout_Data = {\n            \"ID\": id,\n            \"Layout_Type\": layout_type,\n            \"Orientation\": orientation,\n            \"Height\": height,\n            \"Width\": width\n          };\n        } else if (layout_type == 1) {\n          console.log(Date.now(), \" : \", \"handleData : creating OtherLayout data\");\n          var width = data.readUInt32BE(offset) * 0.728;\n          offset += 4;\n          var height = data.readUInt32BE(offset) * 0.728;\n          offset += 4;\n          var X = data.readFloatBE(offset);\n          offset += 4;\n          var Y = data.readFloatBE(offset);\n          offset += 4;\n          var layout_Data = {\n            \"ID\": id,\n            \"Layout_Type\": layout_type,\n            \"Height\": height,\n            \"Width\": width,\n            \"X\": X,\n            \"Y\": Y\n          };\n        }\n\n        tempArr = this.state.LayoutList;\n        tempArr.push(layout_Data);\n        this.setState({\n          LayoutList: tempArr\n        });\n        console.log(Date.now(), \" : \", layout_Data);\n      } else if (isUpdate == 3) {\n        console.log(Date.now(), \" : \", \"handleData : endOf Distribution\");\n        var _tempArr2 = this.state.UIList;\n        UI_List_Buffer.forEach(function (item) {\n          _tempArr2.push(item);\n        });\n        UI_List_Buffer = new Array();\n        this.setState({\n          UIList: _tempArr2\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var utf8 = require('utf8');\n\n      var Layout = this.state.LayoutList.map(function (item, index) {\n        if (item.Layout_Type == 0) {\n          return _react.default.createElement(_reactNative.View, {\n            key: item.ID,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 623,\n              columnNumber: 21\n            }\n          }, _react.default.createElement(_LinearLayout.default, {\n            UIList: _this2.state.UIList,\n            setLinearLayout: item,\n            TextChangeListener: _this2.TextChangeListener,\n            onPressInListener: _this2.onPressInListener,\n            onPressOutListener: _this2.onPressOutListener,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 624,\n              columnNumber: 25\n            }\n          }));\n        } else if (item.Layout_Type == 1) {\n          return _react.default.createElement(_reactNative.View, {\n            key: item.ID,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 636,\n              columnNumber: 21\n            }\n          }, _react.default.createElement(_OtherLayout.default, {\n            UIList: _this2.state.UIList,\n            setOtherLayout: item,\n            TextChangeListener: _this2.TextChangeListener,\n            onPressInListener: _this2.onPressInListener,\n            onPressOutListener: _this2.onPressOutListener,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 637,\n              columnNumber: 25\n            }\n          }));\n        }\n      });\n      return _react.default.createElement(_reactNative.SafeAreaView, {\n        Style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 698,\n          columnNumber: 13\n        }\n      }, Layout);\n    }\n  }]);\n  return App;\n}(_react.Component);\n\nvar styles = _reactNative.StyleSheet.create({\n  container: {\n    alignItems: \"center\"\n  }\n});\n\nvar _default = App;\nexports.default = _default;","map":{"version":3,"names":["client","length_bitmap","buffer_cur","Acc_or_Han","cur_id","buffer","socket_buffer","UI_List_Buffer","Array","App","props","state","UIList","LayoutList","_Connect_to_Server","bufer","TcpSocket","createConnection","host","port","console","log","on","data","checkData","onPressInListener","e","target_id","target","_internalFiberInstanceHandleDEV","memoizedProps","id","tempArr","Buffer","alloc","offset","writeUInt32BE","write","onPressOutListener","TextChangeListener","nativeEvent","name","type","text","forEach","targetUI","ID","Text","buffer2","length","setState","Date","now","from","temp_buffer","concat","target_length","readUInt32BE","rest_length","target_Data","subarray","handleData","rest_Data","isUpdate","layoutId","X","readFloatBE","Y","stringSize","widgetType","toString","includes","temp_text","slice","TextSize","height","width","UIdata","push","hasImage","temp","image","rest","current_bitmap","method","typeFlag","param","param_temp","bb","gg","rr","aa","newColor","Color","Image","layout_type","orientation","layout_Data","item","utf8","require","Layout","map","index","Layout_Type","styles","container","Component","StyleSheet","create","alignItems"],"sources":["/home/ywha/WEB_FLUID/react_proxy/App.js"],"sourcesContent":["import React, {useState, Component} from 'react';\nimport {StyleSheet, View, Text,TextInput, Button, ScrollView, SafeAreaView, Pressable} from 'react-native';\nimport TcpSocket from \"react-native-tcp-socket\";\nimport utf8 from 'utf8';\nimport {Buffer} from 'buffer';\nimport LinearLayout from \"./components/LinearLayout\"\nimport OtherLayout from \"./components/OtherLayout\"\n\n\nvar client;\nvar length_bitmap;\nvar buffer_cur;\nvar Acc_or_Han;\nvar cur_id;\nvar buffer;\nvar socket_buffer;\nvar UI_List_Buffer = new Array();\n\nclass App extends Component {\n    constructor(props){\n        super(props);\n        this._Connect_to_Server();\n        Acc_or_Han = 0;\n        buffer = null;\n        socket_buffer = null;\n    };\n    state = {\n        UIList: new Array(),\n        LayoutList : new Array()\n    };\n    _Connect_to_Server = (bufer) => {\n        client = TcpSocket.createConnection({host: \"192.168.0.2\", port: 5673}, ()=>{\n            console.log(\"connection established\");\n        });\n        client.on('data', (data) => this.checkData(data));\n        \n    };\n\n    // accumulatedata(data) {\n    //     console.log(Date.now(),\" : \",\"this is accumulatedata\");\n    //     let tempArr = this.state.UIList;\n    //     tempArr.forEach(function (targetUI){\n    //         if(cur_id == targetUI.ID){\n    //             let cur_bitmap = data.toString('utf8',0,data.length);\n    //             //console.log(targetUI.Bitmap.length);\n    //             //console.log(\"cur bitmap = \",cur_bitmap);\n    //             var temp = targetUI.Bitmap.concat(cur_bitmap);\n    //             targetUI.Bitmap = temp;\n    //             //targetUI.Bitmap += cur_bitmap;\n    //             //console.log(targetUI.Bitmap.length);\n    //             buffer_cur += data.length;\n    //         }\n    //     });\n    //     // console.log(\"UIList \",this.state.UIList[0]);\n    //     this.setState({\n    //         UIList: tempArr\n    //     });\n    //     // console.log(\"UIList\", this.state.UIList[0]);\n    //     if(buffer_cur == length_bitmap)\n    //     {\n    //         Acc_or_Han = 0;\n    //     }\n    // }\n    checkData(data) {\n        console.log(Date.now(),\" : \",\"this is checkData\",data.length);\n\n        if(socket_buffer == null)\n        {\n            //console.log(Date.now(),\" : \",\"checkData : socket_buffer empty\");\n            socket_buffer = Buffer.from(data);\n        }\n        else\n        {\n            //console.log(Date.now(),\" : \",\"checkData : socket_buffer not empty\");\n            //console.log(\"socket_buffer length : \",socket_buffer.length);\n            var temp_buffer = Buffer.concat([socket_buffer,data]);\n            //console.log(\"socket_buffer length : \",socket_buffer.length);\n            socket_buffer = Buffer.from(temp_buffer);\n            //console.log(\"socket_buffer length : \",socket_buffer.length);\n        }\n\n        if(socket_buffer.length < 4)\n        {\n            // console.log(Date.now(),\" : \",\"checkData : data length below 4 byte\");\n            return;\n        }\n        else\n        {\n            var target_length = socket_buffer.readUInt32BE(0);\n            var rest_length = socket_buffer.length - 4;\n            console.log(Date.now(),\" : \",\"checkData : target_length : \", target_length);\n            // console.log(Date.now(),\" : \",\"checkData : rest_length : \", rest_length);\n            if(target_length == rest_length)\n            {\n                // console.log(Date.now(),\" : \",\"checkData : target_length met\");\n                target_Data = socket_buffer.subarray(4,4+target_length);\n                this.handleData(target_Data);\n                socket_buffer = null;\n                return;\n            }\n            else if(target_length > rest_length)\n            {\n                // console.log(Date.now(),\" : \",\"checkData : target_length unmet\");\n\n                return;\n            }\n            else //target_length > rest_length\n            {\n                // console.log(Date.now(),\" : \",\"checkData : target_length exceed\");\n                var target_Data = socket_buffer.subarray(4,4+target_length);\n                var rest_Data = socket_buffer.subarray(4+target_length,socket_buffer.length);\n                this.handleData(target_Data);\n                socket_buffer = Buffer.from(rest_Data);\n                this.checkData(Buffer.alloc(0));\n                return;\n            }\n        }\n    }\n    // parseData(data) {\n    //     console.log(\"this is parseData\");\n    //     console.log(\"data length : \",data.length);\n    //     // console.log(data);\n    //     if(data.length < 4)\n    //     {\n    //         buffer = new Buffer(data);\n    //     }\n    //     else\n    //     {\n    //         if(buffer != null)\n    //         {\n    //             console.log(\"parseData : append to buffer\");\n    //             var temp = Buffer.concat([buffer,data]);\n    //             buffer = null;\n    //             data = Buffer.from(temp);\n    //             console.log(data);\n    //         }\n           \n    //         if(Acc_or_Han == 1)\n    //         {\n    //             console.log(\"parseData : accumulate data\");\n    //             this.accumulatedata(data);\n    //         }\n    //         else{\n    //             console.log(\"parseData : split and pass to handleData\");\n    //             var packet_length = data.readUInt32BE(0);\n    //             if(packet_length == data.length-4)\n    //             {\n    //                 var first_data = data.subarray(4,4+packet_length);\n    //                 this.handleData(first_data);\n    //             }\n    //             else if(packet_length < data.length-4) //data longer than expected\n    //             {\n    //                 console.log(\"packet length : \",packet_length);\n                \n    //                 var first_data = data.subarray(4,4+packet_length);\n    //                 var second_data = data.subarray(8+packet_length,data.length);\n    //                 this.handleData(first_data);\n    //                 this.handleData(second_data);\n    //             }\n    //             else //data shorter than expected\n    //             {\n    //                 if(socket_buffer == null)\n    //                 {\n    //                     socket_buffer = Buffer.from(data);\n    //                 }\n    //                 else\n    //                 {\n    //                     var temp_buffer = Buffer.concat([socket_buffer,data]);\n    //                     socket_buffer = Buffer.from(temp_buffer);\n    //                 }\n    //             }\n    //         }\n    //     }\n        \n    // }\n    handleData(data) {\n        console.log(Date.now(),\" : \",\"handle data invocated\");\n        \n        // console.log(Date.now(),\" : \",\"data length : \",data.length);\n        //var this_data = data;\n        var offset = 0;\n    \n        //console.log('message received',data);\n        console.log(Date.now(),\" : \",'id : ',offset, data.readUInt32BE(offset));\n        var id = data.readUInt32BE(offset);\n        offset += 4;\n        var isUpdate = data.readUInt32BE(offset);\n        // console.log(Date.now(),\" : \",'isUpdate : ',isUpdate);\n        offset +=4;\n        if(isUpdate == 0) //distribute mode\n        {\n            //read WidgetType\n            var layoutId = data.readUInt32BE(offset);\n            offset+=4;\n\n            var X = data.readFloatBE(offset);\n            offset+=4;\n            var Y = data.readFloatBE(offset);\n            offset+=4;\n\n            // console.log('String Length',offset,data.readUInt32BE(offset));\n            var stringSize = data.readUInt32BE(offset)+2;\n            offset += 4;\n            // console.log('widgetType : ',offset,data.toString('utf8',offset,offset+stringSize));\n            var widgetType = data.toString('utf8',offset,offset+stringSize);\n            offset += stringSize;\n            // console.log(\"check : \",widgetType,widgetType.includes(\"EditText\"));\n            if(widgetType.includes(\"EditText\")==1)\n            {\n                console.log(\"handleData : creating EditText data\");\n                // console.log('String Length',offset,data.readUInt32BE(offset));\n                stringSize = data.readUInt32BE(offset)+2;\n                offset += 4;\n                // console.log('Text : ',data.toString('utf8',offset,offset+stringSize));\n                var temp_text = data.toString('utf8',offset,offset+stringSize);\n                var text = (''+temp_text).slice(1);\n                offset += stringSize;\n                // console.log('TextSize : ',data.readFloatBE(offset));\n                var TextSize = data.readFloatBE(offset);\n                offset += 4;\n                var height = data.readUInt32BE(offset)*0.728;\n                offset +=4;\n                var width = data.readUInt32BE(offset)*0.728;\n                offset +=4;\n                let UIdata = {\n                    \"WidgetType\": widgetType,\n                    \"ID\": id,\n                    \"Text\": text,\n                    \"TextSize\": TextSize,\n                    \"Color\": 'black',\n                    \"Parent_ID\": layoutId,\n                    \"X\": X,\n                    \"Y\": Y,\n                    \"Height\": height,\n                    \"Width\": width,\n                };\n\n                UI_List_Buffer.push(UIdata);\n                // let tempArr = this.state.UIList;\n                // tempArr.push(UIdata);\n                // console.log(\"UIdata : \",UIdata);\n\n                // UI_List_Buffer = tempArr;\n                // this.setState({\n                //     UIList: tempArr\n                // });\n            }\n            else if (widgetType.includes(\"TextView\"))\n            {\n                console.log(Date.now(),\" : \",\"handleData : creating TextView data\");\n                // console.log('String Length',offset,data.readUInt32BE(offset));\n                stringSize = data.readUInt32BE(offset)+2;\n                offset += 4;\n                // console.log('Text : ',data.toString('utf8',offset,offset+stringSize));\n                var temp_text = data.toString('utf8',offset,offset+stringSize);\n                var text = (''+temp_text).slice(1);\n                offset += stringSize;\n                // console.log('TextSize : ',data.readFloatBE(offset));\n                var TextSize = data.readFloatBE(offset);\n                offset += 4\n                var height = data.readUInt32BE(offset)*0.728;\n                offset +=4;\n                var width = data.readUInt32BE(offset)*0.728;\n                offset +=4;\n                var hasImage = data.readUInt32BE(offset);\n                offset +=4;\n                if(hasImage == 1)\n                {\n                    var length = data.readUInt32BE(offset) + 2;\n                    length_bitmap = length;\n                    // console.log(length);\n                    offset += 4;\n                    let temp = data.toString('utf8',offset,data.length);\n                    var image = (''+temp).slice(1);\n                }\n                else\n                {\n                    var image = null;\n                }\n                let UIdata = {\n                    \"WidgetType\": widgetType,\n                    \"ID\": id,\n                    \"Text\": text,\n                    \"TextSize\": TextSize,\n                    \"Parent_ID\": layoutId,\n                    \"X\": X,\n                    \"Y\": Y,\n                    \"Height\": height,\n                    \"Width\": width,\n                    \"Image\": image,\n                };\n\n                UI_List_Buffer.push(UIdata);\n                // let tempArr = this.state.UIList;\n                // tempArr.push(UIdata);\n                // // console.log(Date.now(),\" : \",\"UIdata : \",UIdata);\n                \n                // UI_List_Buffer = tempArr\n                // this.setState({\n                //     UIList: tempArr\n                // });\n            }\n            else if(widgetType.includes(\"ImageView\"))\n            {\n\n                console.log(Date.now(),\" : \",\"handleData : creating ImageView data\");\n                //buffer 합치기\n                //bitmap data 받아오기 및 저장\n                \n                // console.log('Buffer Length : ',data.length);\n                // const bufferbuffer = data.concat(bitmap);\n                \n                var height = data.readUInt32BE(offset)* 0.75;\n                // console.log(\"Height : \",height);\n                offset +=4;\n                var width = data.readUInt32BE(offset)* 0.75;\n                offset +=4;\n                // console.log(\"Width : \",width);\n\n                var length = data.readUInt32BE(offset) + 2;\n                length_bitmap = length;\n                // console.log(length);\n                offset += 4;\n                \n                \n                \n                var rest = data.length - offset;\n                \n                buffer_cur = 0;\n                let temp = data.toString('utf8',offset,data.length);\n                let current_bitmap = (''+temp).slice(1);\n                let UIdata = {\n                    \"WidgetType\": widgetType,\n                    \"ID\": id,\n                    \"Length\": length,\n                    \"Image\": current_bitmap,\n                    \"Height\": height,\n                    \"Width\": width,\n                    \"Parent_ID\": layoutId,\n                    \"X\": X,\n                    \"Y\": Y,\n                };\n                buffer_cur += rest;\n                //console.log('client , ',client);\n                cur_id = id;\n                //console.log(\"UIList \",this.state.UIList[0]);\n                UI_List_Buffer.push(UIdata);\n                // let tempArr = this.state.UIList;\n                // tempArr.push(UIdata);\n                // // console.log(\"UIdata : \",UIdata);\n                // //console.log(\"UIList \",this.state.UIList[0]);\n                // this.setState({\n                //     UIList: tempArr\n                // });\n                //Acc_or_Han = 1;\n            }\n            else if(widgetType.includes(\"Button\"))\n            {\n                console.log(Date.now(),\" : \",\"handleData : creating Button data\");\n                // console.log('String Length',offset,data.readUInt32BE(offset));\n                stringSize = data.readUInt32BE(offset)+2;\n                offset += 4;\n                // console.log('Text : ',data.toString('utf8',offset,offset+stringSize));\n                var temp_text = data.toString('utf8',offset,offset+stringSize);\n                var text = (''+temp_text).slice(1);\n                offset += stringSize;\n                var height = data.readUInt32BE(offset)* 0.728;\n                // console.log(\"Height : \",height);\n                offset +=4;\n                var width = data.readUInt32BE(offset)* 0.728;\n                // console.log(\"Width : \",width);\n                offset += 4;\n                let UIdata = {\n                    \"WidgetType\": widgetType,\n                    \"ID\": id,\n                    \"Text\": text,\n                    \"Height\": height,\n                    \"Parent_ID\": layoutId,\n                    \"Width\": width,\n                    \"X\": X,\n                    \"Y\": Y,\n                };\n                UI_List_Buffer.push(UIdata);\n                // let tempArr = this.state.UIList;\n                // tempArr.push(UIdata);\n                // // console.log(Date.now(),\" : \",\"UIdata : \",UIdata);\n                // this.setState({\n                //     UIList: tempArr\n                // });\n            }\n            else if(widgetType.includes(\"OtherView\"))\n            {\n                console.log(Date.now(),\" : \",\"handleData : creating OtherView data\");\n                var height = data.readUInt32BE(offset)*0.728;\n                offset +=4;\n                var width = data.readUInt32BE(offset)*0.728;\n                offset +=4;\n                let UIdata = {\n                    \"WidgetType\": widgetType,\n                    \"ID\": id,\n                    \"Text\": 'others',\n                    \"Height\": height,\n                    \"Width\": width,\n                    \"Parent_ID\":layoutId,\n                    \"X\": X,\n                    \"Y\": Y,\n                };\n                UI_List_Buffer.push(UIdata);\n                // let tempArr = this.state.UIList;\n                // tempArr.push(UIdata);\n                // // console.log(Date.now(),\" : \",\"UIdata : \",UIdata);\n                // this.setState({\n                //     UIList: tempArr\n                // });\n            }\n            \n            \n        }\n\n        else if(isUpdate == 1){//update mode\n            let tempArr = this.state.UIList;\n            tempArr.forEach(function (targetUI){\n                if(id == targetUI.ID){\n                    let stringSize = data.readUInt32BE(offset)+2;\n                    // console.log(Date.now(),\" : \",\"stringSize: \",offset, stringSize);\n                    offset += 4;\n                    let method = data.toString('utf8',offset,offset+stringSize);\n                    offset +=stringSize;\n                    let typeFlag = data.readUInt32BE(offset);\n                    offset += 4;\n                    //get parameters\n                    console.log(\"typeFlag : \" + typeFlag);\n                    if(typeFlag == 1){\n                        var param = data.readFloatBE(offset);\n                        offset+=4;\n                    }\n                    if(typeFlag == 2){\n                        var param = data.readUInt32BE(offset);\n                        offset +=4;\n                    }\n                    if(typeFlag == 3){\n                        stringSize = data.readUInt32BE(offset)+2;\n                        offset +=4;\n                        let param_temp = data.toString('utf8',offset,offset+stringSize);\n                        var param = (''+param_temp).slice(1);\n                        offset +=stringSize;\n                        console.log(\"string : \", param);\n                    }\n\n                    //UI update\n                    if(method.includes(\"setTextColor\")){\n                        // console.log(Date.now(),\" : \",\"color : \",param);\n                        let bb = param & 0x000000FF;\n                        let gg = param & 0x0000FF00;\n                        let rr = param & 0x00FF0000;\n                        let aa = param & 0xFF000000;\n                        rr = rr<<8;\n                        bb = bb<<8;\n                        gg = gg<<8;\n                        aa = aa>>>24;\n                        // console.log(Date.now(),\" : \",rr,bb,gg,aa)\n                        var newColor = rr|bb|gg|aa; //android native in aarrggbb react-native in rrggbbaa\n                        targetUI.Color = newColor>>>0;\n                        // if(param == 4278190335)\n                        // {\n                        //     targetUI.Color= newColor>>>0;\n                        // }\n                        // else if(param == 4294901760){\n                        //     targetUI.Color = newColor>>>0; //shift operator to make it unsigned\n                        // }\n                    }\n                    // else if(method.includes(\"setTextSize\")){\n                    //     targetUI.TextSize = param;\n                    // }\n                    else if(method.includes(\"setImage\")){\n                        targetUI.Image = param;\n                    }\n                    else if(method.includes(\"setText\")){\n                        targetUI.Text = param;\n                    }\n                }\n                console.log(targetUI);\n            });\n            // console.log(Date.now(),\" : \",\"UIList \",this.state.UIList[0]);\n            this.setState({\n                UIList: tempArr\n            });\n            // console.log(Date.now(),\" : \",\"UIList\", this.state.UIList[0]);\n        }\n        else if(isUpdate ==2) {//distribute layout\n            \n            var layout_type = data.readUInt32BE(offset);\n            offset+=4;\n            if(layout_type == 0){\n                console.log(Date.now(),\" : \",\"handleData : creating LinearLayout data\");\n                //Linear layout\n                var orientation = data.readUInt32BE(offset);\n                offset+=4;\n                var width = data.readUInt32BE(offset)* 0.728;\n                offset +=4;\n                var height = data.readUInt32BE(offset)* 0.728;\n                var layout_Data = {\n                    \"ID\": id,\n                    \"Layout_Type\": layout_type,\n                    \"Orientation\": orientation,\n                    \"Height\": height,\n                    \"Width\": width,\n                }\n\n            }\n            else if(layout_type == 1) { //other layout\n                console.log(Date.now(),\" : \",\"handleData : creating OtherLayout data\");\n                var width = data.readUInt32BE(offset)* 0.728;\n                offset +=4;\n                var height = data.readUInt32BE(offset)* 0.728;\n                offset +=4;\n                var X = data.readFloatBE(offset);\n                offset +=4;\n                var Y = data.readFloatBE(offset);\n                offset +=4;\n                var layout_Data = {\n                    \"ID\": id,\n                    \"Layout_Type\": layout_type,\n                    \"Height\": height,\n                    \"Width\": width,\n                    \"X\": X,\n                    \"Y\": Y,\n                }\n            }\n            tempArr = this.state.LayoutList;\n            tempArr.push(layout_Data);\n            this.setState({\n                LayoutList: tempArr\n            });\n            console.log(Date.now(),\" : \",layout_Data);\n            \n        }\n        else if(isUpdate == 3)\n        {\n            console.log(Date.now(),\" : \", \"handleData : endOf Distribution\");\n            let tempArr = this.state.UIList;\n            UI_List_Buffer.forEach( function(item) {\n                tempArr.push(item);\n            } )\n            UI_List_Buffer = new Array();\n            this.setState({\n                    UIList: tempArr\n                });\n        }\n    \n        \n        \n    };\n    onPressInListener = (e) => {\n        var target_id = e.target._internalFiberInstanceHandleDEV.memoizedProps.id;\n        //console.log(e.target._internalFiberInstanceHandleDEV.memoizedProps);\n        let tempArr = this.state.UIList;\n\n            let buffer = Buffer.alloc(1000);\n            let offset = 0;\n            buffer.writeUInt32BE(target_id,offset); //id\n            console.log(\"send target id : \",target_id);\n            offset +=4;\n            buffer.writeUInt32BE(1,offset); //typeEvent\n            offset +=4;\n            buffer.writeUInt32BE(0,offset); //down\n            offset +=4;\n            client.write(buffer); \n\n    }\n    onPressOutListener = (e) => {\n        var target_id = e.target._internalFiberInstanceHandleDEV.memoizedProps.id;\n        let tempArr = this.state.UIList;\n        \n            let buffer = Buffer.alloc(1000);\n            let offset = 0;\n            buffer.writeUInt32BE(target_id,offset); //id\n            console.log(\"send target id : \",target_id);\n            offset +=4;\n            buffer.writeUInt32BE(1,offset); //typeEvent\n            offset +=4;\n            buffer.writeUInt32BE(1,offset); //down\n            offset +=4;\n            client.write(buffer);\n\n    }\n    TextChangeListener = (e) =>{\n        console.log(e.target.id);\n        const {name,type,text} = e.nativeEvent;\n        var target_id = e.target._internalFiberInstanceHandleDEV.memoizedProps.id;\n        let tempArr = this.state.UIList;\n        tempArr.forEach(function (targetUI) {\n            if(targetUI.ID == target_id){\n                console.log(target_id, text);\n                targetUI.Text = text;\n                let buffer = Buffer.alloc(1000);\n                let offset = 0;\n                buffer.writeUInt32BE(target_id,offset);\n                offset+=4;\n                buffer.writeUInt32BE(2,offset); //text event flag\n                offset+=4;\n\n                //let stringSize =  buffer.write(''+text+'',offset);\n                //offset += stringSize;\n                let buffer2 = Buffer.alloc(100);\n                let length = buffer2.write(text);\n                buffer.writeUInt32BE(length,offset);\n                offset+=4;\n                client.write(buffer);\n                client.write(buffer2);\n            }\n        });\n        this.setState({\n            UIList: tempArr\n        });\n    };\n    render() {\n        const utf8 = require('utf8');\n        let Layout = this.state.LayoutList.map((item,index)=> {\n            if(item.Layout_Type == 0) {\n                //LinearLayout\n                return (\n                    <View key={item.ID}>\n                        <LinearLayout \n                            UIList={this.state.UIList} \n                            setLinearLayout={item}\n                            TextChangeListener={this.TextChangeListener}\n                            onPressInListener={this.onPressInListener}\n                            onPressOutListener={this.onPressOutListener}/>\n                    </View>\n                )\n\n            }\n            else if(item.Layout_Type == 1) {\n                return (\n                    <View key={item.ID}>\n                        <OtherLayout\n                            UIList={this.state.UIList}\n                            setOtherLayout={item}\n                            TextChangeListener={this.TextChangeListener}\n                            onPressInListener={this.onPressInListener}\n                            onPressOutListener={this.onPressOutListener}/>\n                    </View>\n                )\n            }\n        });\n\n        // let Arr = this.state.UIList.map((item,index)=>{\n        //     console.log(item.WidgetType.includes(\"EditText\"));\n        //     if(item.WidgetType.includes(\"EditText\")){\n        //         console.log(\"App : pass to EditText\");\n        //         return (\n        //             <View key={item.ID} style={{alignItems:'flex-start', backgroundColor: 'blue', borderBottonWidth : StyleSheet.hairlineWidth}}>\n        //                 <TextInput style={{fontSize: item.TextSize,  textAlign: 'left', padding: 2, color: item.Color}} \n        //                     value={item.Text}\n        //                     id={item.ID}\n        //                     onChange={this.TextChangeListener}>\n        //                 </TextInput>\n        //             </View>\n        //         );\n        //     }\n        //     if(item.WidgetType.includes(\"TextView\")){\n        //         console.log(\"App : pass to TextView\");\n        //         return (\n        //             <View key={item.ID} style={{alignItems:'flex-start'}}>\n        //                 <Text  style={{fontSize: item.TextSize, textAlign: 'left', fontWeight: '500', width: 350}}>\n        //                     {item.Text}\n        //                 </Text>\n        //             </View>\n        //         );\n        //     }\n        //     if(item.WidgetType.includes(\"Button\")){\n        //         console.log(\"App : pass to Button\");\n        //         return(\n        //             <View key={item.ID} style={{height: item.Height, width: item.Width, alignContent: 'center', alignItems: \"center\",backgroundColor: 'black',borderBottomWidth: StyleSheet.hairlineWidth}}>\n        //                 <Pressable style={{height: item.Height, width: item.Width, alignContent: 'center',   justifyContent: 'center', alignItems: \"center\", backgroundColor: 'skyblue'}}\n        //                     id={item.ID}\n        //                     onPressIn={this.onPressInListener}\n        //                     onPressOut={this.onPressOutListener}>\n        //                     <Text \n        //                         style={{fontSize: 30, textAlign: 'center', alignContent: 'center', color: 'black'}}\n        //                         id={item.ID}> \n        //                             {item.Text} \n        //                     </Text>\n                            \n        //                 </Pressable>\n        //             </View>\n        //         )\n        //     }\n            \n        //     return(\n        //         <Text> hi </Text>\n        //     );\n            \n            \n        // });\n        return (\n            <SafeAreaView Style={styles.container}>\n                {Layout}\n            </SafeAreaView>\n        );\n    };\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        alignItems: \"center\",\n    },\n});\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}